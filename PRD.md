# 단기과열종목 계산 서비스 PRD

## 1. 프로젝트 개요

### 1.1 목적

국내 주식시장에서 단기과열종목 예고에 걸린 종목이 실제로 단기과열종목에 지정되기 위한 조건을 계산해주는 서비스를 제공하여, 투자자들이 복잡한 계산 과정을 거치지 않고도 쉽게 조건을 파악할 수 있도록 한다.

### 1.2 배경

- 대부분의 투자자들이 단기과열종목 지정 조건을 정확히 인지하지 못함
- 매번 조건을 계산하기 번거로워 투자 판단에 어려움
- 국내 투자자들의 불편을 해소하고자 함

### 1.3 확장 계획

- MVP: 단기과열종목 계산 기능만 제공
- 향후: 투자경고, 투자위험 등 다른 시장 조치들로 확장
- 아키텍처: Next.js → Next.js + NestJS 분리 예정

## 2. 기능 요구사항

### 2.1 핵심 기능

#### 2.1.1 종목 검색 및 데이터 조회

- **입력**: 한국 주식 종목 코드 (예: 005930, 000660)
- **처리**:
  - KOSPI(.KS), KOSDAQ(.KQ) 자동 판별
  - Yahoo Finance API를 통한 실시간 데이터 조회
  - 60일간 데이터 수집 후 40영업일 필터링
- **출력**: 종목명, 심볼, 40영업일 주가 데이터

#### 2.1.2 단기과열종목 지정 조건 계산

- **주가상승률 조건**: 당일 종가 ≥ 40거래일 평균 × 130%
- **거래회전율 조건**: 최근 2일 평균 ≥ 40거래일 평균 × 600%
- **주가변동성 조건**: 최근 2일 평균 ≥ 40거래일 평균 × 150%

#### 2.1.3 필요 수치 계산

- **필요 종가**: 40거래일 평균의 130% 이상
- **필요 최소 거래량**: 거래회전율 조건 달성을 위한 최소 거래량
- **필요 주가변동성**: 변동성 조건 달성을 위한 수치

#### 2.1.4 시장 상황 인식

- **장중/장후 구분**: 한국시간 기준 오후 8시 5분 기준
- **영업일 필터링**: 주말 및 공휴일 제외
- **다음 영업일 계산**: 장마감 후 다음 영업일 조건 표시

### 2.2 데이터 시각화

#### 2.2.1 주가 차트

- **차트 타입**: 선형 차트 (Line Chart)
- **데이터**: 40영업일 종가 추이
- **인터랙션**: 툴팁을 통한 일자별 상세 정보
- **반응형**: 다양한 화면 크기 대응

#### 2.2.2 통계 대시보드

- **40영업일 통계**: 평균가, 최고가, 최저가
- **단기과열 조건**: 3가지 조건별 현재 상태 및 필요 수치
- **계산 공식**: 각 조건별 계산 방법 설명

### 2.3 사용자 인터페이스

#### 2.3.1 검색 인터페이스

- **입력 필드**: 종목 코드 입력 (플레이스홀더: "종목 코드 입력 (예: 005930)")
- **검색 버튼**: "단기과열종목 조건 계산"
- **로딩 상태**: 로딩 인디케이터 및 텍스트 ("조건 계산 중...")
- **에러 처리**: 명확한 에러 메시지 표시

#### 2.3.2 결과 표시

- **종목 정보**: 종목명, 종목 코드
- **차트 섹션**: 40영업일 주가 추이
- **통계 카드**: 그리드 레이아웃으로 주요 수치 표시
- **조건 분석**: 단기과열종목 지정 조건별 상세 분석

## 3. 기술 스택

### 3.1 프론트엔드

- **프레임워크**: Next.js 15.4.6 (App Router)
- **언어**: TypeScript
- **스타일링**: Tailwind CSS 4.1.12
- **UI 컴포넌트**: shadcn/ui
- **차트 라이브러리**: Recharts
- **아이콘**: Lucide React

### 3.2 백엔드

- **API**: Next.js API Routes
- **데이터 소스**: Yahoo Finance API (향후 KRX Open API로 변경 예정)
- **시간대 처리**: date-fns-tz (한국시간 기준)

### 3.3 아키텍처

- **모노레포**: Turborepo 구조
- **패키지 관리**: pnpm
- **타입 안전성**: 완전한 TypeScript 지원
- **반응형 디자인**: 모바일, 태블릿, 데스크톱 대응

## 4. 사용자 인터페이스 요구사항

### 4.1 레이아웃

- 깔끔하고 직관적인 디자인
- 모바일 우선 반응형 디자인
- shadcn/ui 컴포넌트 활용

### 4.2 주요 화면 구성

1. **메인 화면**
   - 종목 검색 입력창
   - 서비스 소개 및 사용법

2. **결과 화면**
   - 선택된 종목 정보
   - 단기과열종목 조건 계산 결과
   - 시각화 차트들
   - 각 조건별 상세 설명

### 4.3 UX 고려사항

- 빠른 검색 응답 시간
- 직관적인 결과 표시
- 모바일에서도 편리한 사용성

## 5. 기술적 요구사항

### 5.1 프로젝트 구조

```
overheat-checker/
├── apps/
│   └── web/                 # Next.js 앱
├── packages/
│   ├── ui/                  # shadcn/ui 컴포넌트
├── turbo.json
├── package.json
└── pnpm-workspace.yaml
```

### 5.2 API 설계

- `GET /api/stocks/{종목코드}` - 종목 검색

### 5.3 데이터 처리

- Yahoo Finance API 연동
- 실시간 주가 데이터 처리
- 한국 시간대(Asia/Seoul) 기준 데이터 처리
- 에러 핸들링 및 폴백 처리

### 5.4 성능 요구사항

- 종목 검색 응답 시간: 500ms 이하
- 조건 계산 결과 표시: 1초 이하
- 차트 렌더링: 2초 이하

## 6. 개발 우선순위

### 6.1 Phase 1: 기본 인프라 구축

1. Turborepo 모노레포 설정
2. Next.js 앱 초기 구성
3. shadcn/ui 설정
4. 기본 라우팅 구조

### 6.2 Phase 2: 핵심 기능 개발

1. 종목 검색 API 개발
2. Yahoo Finance API 연동
3. 단기과열종목 조건 계산 로직
4. 기본 UI 컴포넌트 개발

### 6.3 Phase 3: 데이터 시각화

1. Recharts 차트 구현
2. 반응형 디자인 완성
3. 성능 최적화

### 6.4 Phase 4: 테스트 및 배포

1. 단위 테스트 작성
2. E2E 테스트 구현
3. 배포 파이프라인 구축

## 7. 제약사항 및 고려사항

### 7.1 데이터 제약사항

- Yahoo Finance API의 한계 (향후 KRX Open API로 마이그레이션)
- 실시간 데이터 지연 가능성
- API 호출 제한

### 7.2 법적 고려사항

- 투자 조언이 아닌 정보 제공 서비스임을 명시
- 면책 조항 필요

### 7.3 향후 확장성

- 모노레포 구조로 확장 용이성 확보
- 타입 안전성을 통한 유지보수성 향상
- 컴포넌트 재사용성 고려

## 8. 성공 지표

### 8.1 기술적 지표

- 서비스 가용성: 99.9%
- 평균 응답 시간: 1초 이하
- 에러율: 1% 이하

### 8.2 사용자 지표

- 일 활성 사용자 수 (DAU)
- 종목 검색 성공률
- 사용자 세션 시간

## 9. 마무리

이 PRD를 바탕으로 MVP 버전의 단기과열종목 계산 서비스를 개발해 주세요. 사용자가 종목 코드를 입력하면 즉시 단기과열종목 지정 조건을 확인할 수 있는 직관적이고 실용적인 서비스가 되도록 하는 것이 핵심입니다.
